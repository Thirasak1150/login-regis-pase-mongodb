(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{36429:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return r(32946)}])},32946:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return p}});var t=r(85893),o=r(67294),i=r(11163),d=r(22565),a=r(25501),s=r(9008),l=r.n(s);function p(){let[e,n]=(0,o.useState)({username:"",password:""}),[r,s]=(0,o.useState)(""),[p,x]=(0,o.useState)(!1),c=(0,i.useRouter)(),u=r=>{n({...e,[r.target.name]:r.target.value})},g=async n=>{n.preventDefault(),x(!0),s("");try{console.log("Login Data:",e),console.log("Parse Config:",{appId:a.Z.applicationId,serverURL:a.Z.serverURL});let n=await a.Z.User.logIn(e.username,e.password);console.log("Logged in user:",n),d.ZP.success("ยินดีต้อนรับ ".concat(n.get("name")," ").concat(n.get("surname")),3),c.push("/dashboard")}catch(e){console.error("Full Login Error:",e,"Code:",e.code),101===e.code?s("Username หรือ Password ผิด"):401===e.code||e.message.includes("unauthorized")?s("ไม่ได้รับอนุญาต: เช็ค App ID/Server URL ใน .env.local"):s(e.message||"เกิดข้อผิดพลาด")}finally{x(!1)}};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(l(),{children:[(0,t.jsx)("title",{children:"เข้าสู่ระบบ"}),(0,t.jsx)("meta",{name:"description",content:"เข้าสู่ระบบ Kuyton"})]}),(0,t.jsx)("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",alignItems:"center",justifyContent:"center",padding:window.innerWidth<=768?"15px":"20px"},children:(0,t.jsxs)("div",{style:{background:"white",borderRadius:window.innerWidth<=768?"16px":"20px",padding:window.innerWidth<=768?"24px":"40px",maxWidth:"400px",width:"100%",boxShadow:"0 20px 40px rgba(0,0,0,0.1)",backdropFilter:"blur(10px)"},children:[(0,t.jsxs)("div",{style:{textAlign:"center",marginBottom:window.innerWidth<=768?"20px":"30px"},children:[(0,t.jsx)("h1",{style:{color:"#333",fontSize:window.innerWidth<=768?"24px":"28px",fontWeight:"700",margin:"0 0 10px 0",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"เข้าสู่ระบบ"}),(0,t.jsx)("p",{style:{color:"#666",margin:0},children:"ยินดีต้อนรับกลับมา!"})]}),(0,t.jsxs)("form",{onSubmit:g,children:[(0,t.jsx)("div",{style:{marginBottom:window.innerWidth<=768?"16px":"20px"},children:(0,t.jsx)("input",{name:"username",placeholder:"ชื่อผู้ใช้",value:e.username,onChange:u,required:!0,style:{width:"100%",padding:window.innerWidth<=768?"12px 16px":"15px 20px",border:"2px solid #e1e5e9",borderRadius:window.innerWidth<=768?"10px":"12px",fontSize:window.innerWidth<=768?"14px":"16px",outline:"none",transition:"all 0.3s ease",boxSizing:"border-box"},onFocus:e=>e.target.style.borderColor="#667eea",onBlur:e=>e.target.style.borderColor="#e1e5e9"})}),(0,t.jsx)("div",{style:{marginBottom:window.innerWidth<=768?"20px":"25px"},children:(0,t.jsx)("input",{name:"password",type:"password",placeholder:"รหัสผ่าน",value:e.password,onChange:u,required:!0,style:{width:"100%",padding:"15px 20px",border:"2px solid #e1e5e9",borderRadius:"12px",fontSize:"16px",outline:"none",transition:"all 0.3s ease",boxSizing:"border-box"},onFocus:e=>e.target.style.borderColor="#667eea",onBlur:e=>e.target.style.borderColor="#e1e5e9"})}),(0,t.jsx)("button",{type:"submit",disabled:p,style:{width:"100%",padding:window.innerWidth<=768?"12px":"15px",background:p?"#ccc":"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",borderRadius:window.innerWidth<=768?"10px":"12px",fontSize:window.innerWidth<=768?"14px":"16px",fontWeight:"600",cursor:p?"not-allowed":"pointer",transition:"all 0.3s ease",transform:p?"none":"translateY(0)",boxShadow:p?"none":"0 4px 15px rgba(102, 126, 234, 0.4)"},onMouseEnter:e=>{p||(e.target.style.transform="translateY(-2px)",e.target.style.boxShadow="0 6px 20px rgba(102, 126, 234, 0.6)")},onMouseLeave:e=>{p||(e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 4px 15px rgba(102, 126, 234, 0.4)")},children:p?"\uD83D\uDD04 กำลังเข้าสู่ระบบ...":"\uD83D\uDE80 เข้าสู่ระบบ"})]}),r&&(0,t.jsxs)("div",{style:{marginTop:window.innerWidth<=768?"16px":"20px",padding:window.innerWidth<=768?"12px":"15px",background:"#fee",border:"1px solid #fcc",borderRadius:window.innerWidth<=768?"6px":"8px",color:"#c33",textAlign:"center"},children:["⚠️ ",r]}),(0,t.jsxs)("div",{style:{textAlign:"center",marginTop:window.innerWidth<=768?"20px":"25px",paddingTop:window.innerWidth<=768?"16px":"20px",borderTop:"1px solid #eee"},children:[(0,t.jsx)("p",{style:{color:"#666",margin:"0 0 10px 0"},children:"ยังไม่มีบัญชี?"}),(0,t.jsx)("a",{href:"/register",style:{color:"#667eea",textDecoration:"none",fontWeight:"600",transition:"color 0.3s ease"},onMouseEnter:e=>e.target.style.color="#764ba2",onMouseLeave:e=>e.target.style.color="#667eea",children:"\uD83D\uDCDD สมัครสมาชิกที่นี่"})]})]})})]})}}},function(e){e.O(0,[74,721,888,774,179],function(){return e(e.s=36429)}),_N_E=e.O()}]);