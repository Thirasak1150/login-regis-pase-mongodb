(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[26],{51075:function(e,i,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return t(37159)}])},37159:function(e,i,t){"use strict";t.r(i),t.d(i,{default:function(){return E}});var n=t(85893),a=t(67294),r=t(11163),o=t(5152),d=t.n(o),l=t(25501),s=t(69361),c=t(94715),p=t(39964),x=t(74472),g=t(91046);t(5588);var b=t(40159),h=t(69476),u=t(11854),y=t(63916),w=t(65622),k=t(3402),j=t(70859),f=t(13114),m=e=>{let{isOpen:i,onToggle:t}=e,o=(0,r.useRouter)(),[d,s]=(0,a.useState)(!1),c=async()=>{s(!0);try{await l.Z.User.logOut(),o.push("/login")}catch(e){console.error("Logout error:",e)}finally{s(!1)}},p=[{icon:"\uD83D\uDCCA",label:"Dashboard",onClick:()=>o.push("/dashboard"),active:"/dashboard"===o.pathname},{icon:"\uD83D\uDEAA",label:"Logout",onClick:c,loading:d}];return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(f.M,{children:i&&(0,n.jsx)(j.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:40},onClick:t})}),(0,n.jsxs)(j.E.div,{initial:{x:window.innerWidth<=768?-250:-280},animate:{x:i?0:window.innerWidth<=768?-250:-280},transition:{type:"spring",stiffness:300,damping:30},style:{position:"fixed",left:0,top:0,height:"100vh",width:window.innerWidth<=768?"250px":"280px",zIndex:50,background:"linear-gradient(135deg, rgba(99, 102, 241, 0.95) 0%, rgba(139, 92, 246, 0.95) 100%)",backdropFilter:"blur(20px)",borderRight:"1px solid rgba(255, 255, 255, 0.2)",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.5)"},children:[(0,n.jsx)("div",{style:{padding:window.innerWidth<=768?"16px":"24px",borderBottom:"1px solid rgba(255, 255, 255, 0.2)"},children:(0,n.jsx)(j.E.h2,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.2},style:{fontSize:window.innerWidth<=768?"20px":"24px",fontWeight:"bold",color:"white",margin:0},children:"Kuyton Menu"})}),(0,n.jsx)("div",{style:{padding:window.innerWidth<=768?"12px":"16px"},children:p.map((e,i)=>(0,n.jsxs)(j.E.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*(i+1)},whileHover:{scale:1.05,backgroundColor:"rgba(255, 255, 255, 0.2)"},whileTap:{scale:.95},onClick:e.onClick,disabled:e.loading,style:{width:"100%",display:"flex",alignItems:"center",padding:window.innerWidth<=768?"12px":"16px",marginBottom:"8px",borderRadius:"12px",border:"none",color:"white",fontWeight:"500",fontSize:window.innerWidth<=768?"14px":"16px",cursor:e.loading?"not-allowed":"pointer",backgroundColor:e.active?"rgba(255, 255, 255, 0.2)":"transparent",boxShadow:e.active?"0 4px 12px rgba(0, 0, 0, 0.2)":"none",opacity:e.loading?.5:1,transition:"all 0.2s ease"},children:[(0,n.jsx)("span",{style:{fontSize:window.innerWidth<=768?"20px":"24px",marginRight:window.innerWidth<=768?"12px":"16px"},children:e.loading?"⏳":e.icon}),(0,n.jsx)("span",{children:e.loading?"Logging out...":e.label})]},e.label))}),(0,n.jsx)("div",{style:{position:"absolute",bottom:0,left:0,right:0,padding:window.innerWidth<=768?"16px":"24px",borderTop:"1px solid rgba(255, 255, 255, 0.2)"},children:(0,n.jsx)(j.E.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},style:{color:"rgba(255, 255, 255, 0.7)",fontSize:window.innerWidth<=768?"12px":"14px",textAlign:"center",margin:0},children:"Kuyton Dashboard v1.0"})})]})]})};let v=d()(()=>t.e(620).then(t.bind(t,2620)),{loadableGenerated:{webpack:()=>[2620]},ssr:!1}),W=d()(()=>Promise.all([t.e(464),t.e(725),t.e(939)]).then(t.bind(t,30939)),{loadableGenerated:{webpack:()=>[30939]},ssr:!1}),S=d()(()=>Promise.all([t.e(464),t.e(597)]).then(t.bind(t,54597)),{loadableGenerated:{webpack:()=>[54597]},ssr:!1}),C=d()(()=>Promise.all([t.e(675),t.e(124)]).then(t.bind(t,50124)),{loadableGenerated:{webpack:()=>[50124]},ssr:!1}),Z=d()(()=>Promise.all([t.e(675),t.e(822)]).then(t.bind(t,41822)),{loadableGenerated:{webpack:()=>[41822]},ssr:!1});function E(){let[e,i]=(0,a.useState)(null),[t,o]=(0,a.useState)(!0),[d,f]=(0,a.useState)([]),[E,z]=(0,a.useState)("line"),[F,T]=(0,a.useState)(!1),R=(0,r.useRouter)();(0,a.useEffect)(()=>{!async function(){try{let e=await l.Z.User.currentAsync();e?i(e):R.push("/login")}catch(e){console.error("Auth check or data fetch error:",e),e.message.includes("Invalid session token")&&R.push("/login")}finally{o(!1)}}()},[R]);let _=async()=>{try{await l.Z.User.logOut(),R.push("/login")}catch(e){console.error("Logout error:",e)}},D=()=>{T(!F)};return t?(0,n.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,n.jsx)(s.Z,{size:"large",tip:"กำลังโหลดข้อมูล..."})}):e?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(m,{isOpen:F,onToggle:D}),(0,n.jsx)(j.E.button,{onClick:D,whileHover:{scale:1.1,rotate:F?180:0},whileTap:{scale:.9},animate:{rotate:F?90:0},transition:{duration:.3},style:{position:"fixed",top:"15px",left:F?window.innerWidth<=768?"250px":"300px":"15px",zIndex:60,width:window.innerWidth<=768?"45px":"50px",height:window.innerWidth<=768?"45px":"50px",borderRadius:"50%",border:"none",background:F?"linear-gradient(135deg, rgba(239, 68, 68, 0.9) 0%, rgba(220, 38, 38, 0.9) 100%)":"linear-gradient(135deg, rgba(99, 102, 241, 0.9) 0%, rgba(139, 92, 246, 0.9) 100%)",color:"white",fontSize:window.innerWidth<=768?"18px":"20px",cursor:"pointer",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)",backdropFilter:"blur(10px)",display:"flex",alignItems:"center",justifyContent:"center",transition:"left 0.3s ease, background 0.3s ease"},children:F?(0,n.jsx)(b.Z,{}):(0,n.jsx)(h.Z,{})}),(0,n.jsxs)(j.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",minHeight:"100vh",padding:window.innerWidth<=768?"15px":"30px"},children:[(0,n.jsx)(j.E.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,delay:.1},children:(0,n.jsxs)(c.Z,{gutter:[16,16],justify:"space-between",align:"middle",style:{marginBottom:20,background:"rgba(255, 255, 255, 0.95)",padding:window.innerWidth<=768?"15px":"20px",borderRadius:"20px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)",backdropFilter:"blur(10px)"},children:[(0,n.jsxs)(p.Z,{children:[(0,n.jsx)("h1",{style:{margin:0,background:"linear-gradient(45deg, #667eea, #764ba2)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",fontSize:window.innerWidth<=768?"1.8rem":"2.5rem",fontWeight:"bold"},children:"Dashboard"}),(0,n.jsxs)("p",{style:{margin:0,color:"#666",fontSize:window.innerWidth<=768?"0.9rem":"1.1rem"},children:["Welcome: ",e.get("name")," ",e.get("surname")]})]}),(0,n.jsx)(p.Z,{children:(0,n.jsx)(j.E.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:(0,n.jsx)(x.Z,{type:"primary",danger:!0,onClick:_,style:{background:"linear-gradient(45deg, #ff6b6b, #ee5a24)",border:"none",borderRadius:"12px",height:"45px",fontSize:"16px",fontWeight:"bold",boxShadow:"0 4px 15px rgba(255, 107, 107, 0.3)"},children:"Logout"})})})]})}),(0,n.jsx)(c.Z,{gutter:[16,16],children:[{title:"Today's Sales",value:"$53,000",percentage:30,icon:(0,n.jsx)(u.Z,{}),color:"#4D3AF2",delay:.2},{title:"Today's Users",value:"3,200",percentage:20,icon:(0,n.jsx)(y.Z,{}),color:"#764ba2",delay:.3},{title:"New Clients",value:"+1,200",percentage:-20,icon:(0,n.jsx)(w.Z,{}),color:"#8b5cf6",delay:.4},{title:"New Orders",value:"$13,200",percentage:10,icon:(0,n.jsx)(k.Z,{}),color:"#06b6d4",delay:.5}].map((e,i)=>(0,n.jsx)(p.Z,{xs:24,sm:12,md:6,children:(0,n.jsx)(j.E.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,delay:e.delay},whileHover:{y:-10,scale:1.02},style:{background:"linear-gradient(135deg, ".concat(e.color,", ").concat(e.color,"dd)"),borderRadius:"20px",padding:"24px",boxShadow:"0 8px 32px ".concat(e.color,"33"),backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)"},children:(0,n.jsx)(v,{title:e.title,value:e.value,percentage:e.percentage,icon:e.icon})})},i))}),(0,n.jsxs)(c.Z,{gutter:[16,16],style:{marginTop:20},children:[(0,n.jsx)(p.Z,{xs:24,lg:12,children:(0,n.jsx)(j.E.div,{initial:{x:-50,opacity:0},animate:{x:0,opacity:1},transition:{duration:.6,delay:.6},whileHover:{scale:1.02},children:(0,n.jsx)(g.Z,{title:"Active Users",style:{background:"rgba(255, 255, 255, 0.95)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)"},headStyle:{background:"linear-gradient(45deg, #667eea, #764ba2)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",fontWeight:"bold",fontSize:"18px"},children:(0,n.jsx)(C,{})})})}),(0,n.jsx)(p.Z,{xs:24,lg:12,children:(0,n.jsx)(j.E.div,{initial:{x:50,opacity:0},animate:{x:0,opacity:1},transition:{duration:.6,delay:.7},whileHover:{scale:1.02},children:(0,n.jsx)(g.Z,{title:"Sales Overview",style:{background:"rgba(255, 255, 255, 0.95)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)"},headStyle:{background:"linear-gradient(45deg, #667eea, #764ba2)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",fontWeight:"bold",fontSize:"18px"},children:(0,n.jsx)(Z,{})})})})]}),(0,n.jsxs)(c.Z,{gutter:[16,16],style:{marginTop:20},children:[(0,n.jsx)(p.Z,{xs:24,lg:16,children:(0,n.jsx)(j.E.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,delay:.8},whileHover:{scale:1.01},children:(0,n.jsx)(g.Z,{title:"Projects",style:{background:"rgba(255, 255, 255, 0.95)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)"},headStyle:{background:"linear-gradient(45deg, #667eea, #764ba2)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",fontWeight:"bold",fontSize:"18px"},children:(0,n.jsx)(W,{})})})}),(0,n.jsx)(p.Z,{xs:24,lg:8,children:(0,n.jsx)(j.E.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,delay:.9},whileHover:{scale:1.02},children:(0,n.jsx)(g.Z,{title:"Orders History",style:{background:"rgba(255, 255, 255, 0.95)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)"},headStyle:{background:"linear-gradient(45deg, #667eea, #764ba2)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",fontWeight:"bold",fontSize:"18px"},children:(0,n.jsx)(S,{})})})})]})]})]}):(0,n.jsx)("div",{children:"กำลัง redirect..."})}}},function(e){e.O(0,[74,579,888,774,179],function(){return e(e.s=51075)}),_N_E=e.O()}]);